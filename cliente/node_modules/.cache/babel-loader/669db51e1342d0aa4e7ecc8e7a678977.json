{"ast":null,"code":"var _jsxFileName = \"C:\\\\CURSOSUDEMY\\\\PRACTICOS\\\\CURSO MERN\\\\ProyectoWebPersonal\\\\web-personal-cliente\\\\src\\\\components\\\\Admin\\\\LoginForm\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './LoginForm.scss';\nimport { Form, Input, Button, notification } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { emailValidate, minLengthValidations } from \"../../utils/formValidation\";\nimport { signInApi } from \"../../../api/user\";\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginForm() {\n  _s();\n\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [formValid, setFormValid] = useState({\n    email: false,\n    password: false\n  });\n\n  const changeForm = e => {\n    setInputs({ ...inputs,\n      [e.target.name]: e.target.value\n    }); //console.log(inputs);\n  };\n\n  const changeValidation = e => {\n    const {\n      type,\n      name\n    } = e.target; // eslint-disable-next-line default-case\n\n    switch (type) {\n      case \"email\":\n        setFormValid({ ...formValid,\n          [name]: emailValidate(e.target)\n        });\n        break;\n\n      case \"password\":\n        setFormValid({ ...formValid,\n          [name]: minLengthValidations(e.target, 6)\n        });\n        break;\n    } //console.log(formValid);\n\n  };\n\n  const login = async e => {\n    //console.log(inputs);\n    e.preventDefault();\n    const result = await signInApi(inputs);\n\n    if (result.message) {\n      notification[\"error\"]({\n        message: result.message\n      });\n    } else {\n      const {\n        accessToken,\n        refreshToken\n      } = result;\n      localStorage.setItem(ACCESS_TOKEN, accessToken);\n      localStorage.setItem(REFRESH_TOKEN, refreshToken);\n      notification[\"success\"]({\n        message: \"Login correcto\"\n      });\n      window.location.href = \"/admin\";\n    } //console.log(result);\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    className: \"login-form\",\n    onChange: changeForm,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n          style: {\n            color: \"rgba(0,0,0,.25)\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 30\n        }, this),\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Correo electronico\",\n        className: \"login-form__input\",\n        onChange: changeValidation,\n        value: inputs.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n          style: {\n            color: \"rgba(0,0,0,.25)\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 28\n        }, this),\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"contrase\\xF1a\",\n        className: \"login-form__input\",\n        onChange: changeValidation,\n        value: inputs.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }, this), \"         \", /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"login-form__button\",\n        onClick: login,\n        children: \"Ingresar \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 41\n    }, this), \"         \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 14\n  }, this);\n}\n\n_s(LoginForm, \"S+G0064mUU5egszVplw41J5WOfw=\");\n\n_c = LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/CURSOSUDEMY/PRACTICOS/CURSO MERN/ProyectoWebPersonal/web-personal-cliente/src/components/Admin/LoginForm/LoginForm.js"],"names":["React","useState","Form","Input","Button","notification","UserOutlined","LockOutlined","emailValidate","minLengthValidations","signInApi","ACCESS_TOKEN","REFRESH_TOKEN","LoginForm","inputs","setInputs","email","password","formValid","setFormValid","changeForm","e","target","name","value","changeValidation","type","login","preventDefault","result","message","accessToken","refreshToken","localStorage","setItem","window","location","href","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport './LoginForm.scss';\r\nimport { Form, Input, Button, notification } from \"antd\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport {\r\n    emailValidate,\r\n    minLengthValidations,\r\n} from \"../../utils/formValidation\";\r\nimport { signInApi } from \"../../../api/user\";\r\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from '../../utils/constants';\r\nexport default function LoginForm() {\r\n\r\n    const [inputs, setInputs] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n\r\n    const [formValid, setFormValid] = useState({\r\n        email: false,\r\n        password: false,\r\n    });\r\n    const changeForm = (e) => {\r\n\r\n        setInputs({\r\n            ...inputs,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n\r\n        //console.log(inputs);\r\n    };\r\n    const changeValidation = (e) => {\r\n        const { type, name } = e.target;\r\n        // eslint-disable-next-line default-case\r\n        switch (type) {\r\n            case \"email\":\r\n                setFormValid({...formValid, [name]: emailValidate(e.target) });\r\n                break;\r\n            case \"password\":\r\n                setFormValid({...formValid, [name]: minLengthValidations(e.target, 6) });\r\n                break;\r\n        }\r\n        //console.log(formValid);\r\n    };\r\n\r\n    const login = async(e) => {\r\n        //console.log(inputs);\r\n        e.preventDefault();\r\n        const result = await signInApi(inputs);\r\n        if (result.message) {\r\n            notification[\"error\"]({\r\n                message: result.message\r\n            });\r\n        } else {\r\n            const { accessToken, refreshToken } = result;\r\n            localStorage.setItem(ACCESS_TOKEN, accessToken);\r\n            localStorage.setItem(REFRESH_TOKEN, refreshToken);\r\n\r\n            notification[\"success\"]({\r\n                message: \"Login correcto\"\r\n            });\r\n            window.location.href = \"/admin\";\r\n        }\r\n        //console.log(result);\r\n    }\r\n\r\n    return ( <\r\n            Form className = \"login-form\"\r\n            onChange = { changeForm } >\r\n            <\r\n            Form.Item >\r\n            <\r\n            Input prefix = { < UserOutlined style = {\r\n                    { color: \"rgba(0,0,0,.25)\" } }\r\n                />}\r\n                type = \"email\"\r\n                name = \"email\"\r\n                placeholder = \"Correo electronico\"\r\n                className = \"login-form__input\"\r\n                onChange = { changeValidation }\r\n                value = { inputs.email }\r\n                /> <\r\n                /Form.Item> <\r\n                Form.Item >\r\n                <\r\n                Input\r\n                prefix = { < LockOutlined style = {\r\n                        { color: \"rgba(0,0,0,.25)\" } }\r\n                    />}\r\n                    type = \"password\"\r\n                    name = \"password\"\r\n                    placeholder = \"contraseña\"\r\n                    className = \"login-form__input\"\r\n                    onChange = { changeValidation }\r\n                    value = { inputs.password }\r\n                    /> <\r\n                    /Form.Item>         <\r\n                    Form.Item >\r\n                    <\r\n                    Button className = \"login-form__button\"\r\n                    onClick = { login } >\r\n                    Ingresar <\r\n                    /Button> <\r\n                    /Form.Item>         <\r\n                    /Form>\r\n                );\r\n            }"]},"metadata":{},"sourceType":"module"}